<!doctype html><html xmlns=http://www.w3.org/1999/xhtml xml:lang=en-us lang=en-us><head><link href=https://gmpg.org/xfn/11 rel=profile><meta charset=utf-8><meta name=generator content="Hugo 0.83.0"><meta name=viewport content="width=device-width,initial-scale=1"><title>Environment Variable on Ubuntu &#183; Learn Or Die</title><meta name=description content><link type=text/css rel=stylesheet href=https://neohsu.github.io/css/print.css media=print><link type=text/css rel=stylesheet href=https://neohsu.github.io/css/poole.css><link type=text/css rel=stylesheet href=https://neohsu.github.io/css/syntax.css><link type=text/css rel=stylesheet href=https://neohsu.github.io/css/hyde.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Abril+Fatface|PT+Sans:400,400i,700"><link rel=apple-touch-icon-precomposed sizes=144x144 href=/apple-touch-icon-144-precomposed.png><link rel="shortcut icon" href=/favicon.png></head><body class=theme-base-09><aside class=sidebar><div class="container sidebar-sticky"><div class=sidebar-about><img src="http://www.gravatar.com/avatar/a6974d6335aac6400019a5bd307aeca8?s=200" alt="Profile Picture" style="width:200px;border-radius:50%;margin:1rem auto">
<a href=https://neohsu.github.io/><h1>Learn Or Die</h1></a><p class=lead>Code wins arguments.</p></div><nav><ul class=sidebar-nav><li><a href=https://neohsu.github.io/>Home</a></li><li><a href=https://github.com/neohsu>GitHub</a></li></ul></nav><p>&copy; 2021. All rights reserved.</p></div></aside><main class="content container"><div class=post><h1>Environment Variable on Ubuntu</h1><time datetime=0001-01-01T00:00:00Z class=post-date>Mon, Jan 1, 0001</time><h1 id=profile--environment-difference>Profile & Environment Difference</h1><ul><li>/etc/profile<br>設定所有使用者環境變數的檔案</li><li>/etc/environment<br>設定本機系统環境變數的檔案</li></ul><p>當進入登入畫面時，系統先取得 environment 裡的環境變數執行</p><p>當登錄系統時 shell 讀取環境變數的順序是 :</p><blockquote><p>/etc/profile => /etc/environment => $HOME/.profile</p></blockquote><h4 id=如果同一個環境變數在使用者環境變數-etcprofile-和系统環境變數-etcenvironment-有不同的值那應該以使用者的環境變數為主>如果同一個環境變數在使用者環境變數( /etc/profile )和系统環境變數( /etc/environment )有不同的值那應該以使用者的環境變數為主</h4><h1 id=environment-variable-document-difference>Environment Variable Document Difference</h1><ol><li><h4 id=etcprofile->/etc/profile :</h4></li></ol><p>此文件為系統的每個用戶設置環境信息，當用戶第一次登錄時，該文件被執行，並從 /etc/profile.d 目錄的配置文件中蒐集 shell 的設置
2. #### /etc/bashrc :<br>此文件為每一個運行 bash shell 的用戶執行此文件，當 bash shell 被打開時，該文件被讀入
3. #### ~/.bash_profile :<br>每個用戶都可使用該文件輸入專用於自己使用的 shell 信息，當用戶登錄時，該文件僅僅執行一次，默認情況下，他設置一些環境變數，執行用戶的 .bashrc 文件
4. #### ~/.bashrc :<br>此文件包含專用於使用者的 bash shell 的 bash 信息，當登錄時以及每次打開新的 shell 時，則該文件被讀取
5. #### ~/.bash_logout :<br>當每次退出系統(退出bash shell)時，執行該文件，另外 /etc/profile 中設定的變數可以作用於任何用戶，而 ~/.bashrc 等中設定的變數只能繼承 /etc/profile 中的變數，他們是父子關係
6. #### ~/.bash_profile :<br>此文件是交互式 login 方式進入 bash 運行的， ~/.bashrc 是交互式 non-login 方式進入 bash 運行的通常二者設置大致相同，所以通常前者會調用後者</p><h1 id=conclusion>Conclusion</h1><p>環境變數盡量不要設定在 environment 檔裡面，主要原因為 environment 檔為系統環境主要設定檔案，因此如果發生錯誤可能會造成系統死當，如果設定為所有使用者皆使用的環境變數，應設定在 profile 檔裡面，如果個別使用者要使用的環境變數則設定在 .bashrc 較為恰當</p></div></main></body></html>