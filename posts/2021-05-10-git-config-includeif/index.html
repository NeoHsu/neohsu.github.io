<!doctype html><html xmlns=http://www.w3.org/1999/xhtml xml:lang=en-us lang=en-us><head><link href=https://gmpg.org/xfn/11 rel=profile><meta charset=utf-8><meta name=generator content="Hugo 0.83.1"><meta name=viewport content="width=device-width,initial-scale=1"><title>IncludeIf of Git Config &#183; Learn Or Die</title><meta name=description content><link type=text/css rel=stylesheet href=https://neohsu.github.io/css/print.css media=print><link type=text/css rel=stylesheet href=https://neohsu.github.io/css/poole.css><link type=text/css rel=stylesheet href=https://neohsu.github.io/css/syntax.css><link type=text/css rel=stylesheet href=https://neohsu.github.io/css/hyde.css><link type=text/css rel=stylesheet href=https://neohsu.github.io/css/all.min.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Abril+Fatface|PT+Sans:400,400i,700"><link rel=apple-touch-icon-precomposed sizes=144x144 href=/apple-touch-icon-144-precomposed.png><link rel="shortcut icon" href=/favicon.png></head><body class=theme-base-09><aside class=sidebar><div class="container sidebar-sticky"><div class=sidebar-about><img src="http://www.gravatar.com/avatar/a6974d6335aac6400019a5bd307aeca8?s=200" alt="Profile Picture" style="width:200px;border-radius:50%;margin:1rem auto">
<a href=https://neohsu.github.io/><h1>Learn Or Die</h1></a><p class=lead>Code wins arguments.</p></div><nav><ul class=sidebar-nav><li><a href=https://neohsu.github.io/>Home</a></li><a href=https://www.facebook.com/NeoHsuDroid><i class="fab fa-facebook" style=margin-right:.5rem></i></a><a href=https://github.com/neohsu><i class="fab fa-github" style=margin-right:.5rem></i></a><a href=https://www.linkedin.com/in/neohsu><i class="fab fa-linkedin" style=margin-right:.5rem></i></a><a href=https://twitter.com/neohsudroid><i class="fab fa-twitter" style=margin-right:.5rem></i></a></ul></nav><p>&copy; 2021. All rights reserved.</p></div></aside><main class="content container"><div class=post><h1>IncludeIf of Git Config</h1><time datetime=2021-05-10T17:00:00+0800 class=post-date>Mon, May 10, 2021</time><p>不知道大家怎麼管理自己不同 gitconfig 的設定呢？<br>舉例來說通常我們 <code>git clone</code> 後，要在修改後的 code 做 <code>git commit</code> 以前都需要做下列設定</p><pre><code>$ git config user.name &quot;Neo Hsu&quot;
$ git config user.email &quot;NeoHsuDroid@gmail.com&quot;
</code></pre><p>該指令會在我們 <code>git clone</code> repo 的目錄內設定 gitconfig 的 name, email，<br>我們在設定了基本資訊後才能做 <code>git commit</code> 的後續動作，<br>但當我們要抓多個 repo 下來時，每次都要做這動作感覺很費時又多指令，<br>因此很多使用者會將該 gitconfig 設定成 global 來減少各自設定 gitconfig 的操作</p><pre><code>$ git config --global user.name &quot;Neo Hsu&quot;
$ git config --global user.email &quot;NeoHsuDroid@gmail.com&quot;
</code></pre><p>也許上面的作法可以暫時解決了每次 git clone 下來後不用再次設定的問題，<br>但如果你擁有兩個 gitconfig 要做切換時又該怎麼處理呢，<br>舉例來說目前你需要設定兩組 git config，</p><ul><li>personal gitconfig</li><li>company gitconfig</li></ul><p>某些 repo 需要各別設定 personal gitconfig 或 company gitconfig 的狀況下，<br>你是否會選擇性的在某些 repo 做針對該 repo 設定 gitconfig 的操作呢？</p><p>以前我會利用 <a href=https://github.com/inishchith/autoenv>autoenv</a> 工具來處理，<br><a href=https://github.com/inishchith/autoenv>autoenv</a> 提供切換到的目錄下會先去執行 .env 檔案的內容，<br>藉由這個特性去避免需要主動設定執行 <code>git config</code> 的操作，<br>不過 <a href=https://github.com/inishchith/autoenv>autoenv</a> 需要在指定的目錄中另外設定 .env 檔案，<br>且需要主動切換到該目錄下才會針對 .env 檔生效該設定，
其實這樣做法有點不合理，<br>需要另外在設定用別的檔案來做 git config 操作，<br>有點脫褲子放屁的感覺&mldr;</p><p>最近看了一下 <a href=https://git-scm.com/docs>git 官方文件</a>，<br>發現一個新的 <code>git config</code> 的 <a href=https://git-scm.com/docs/git-config#_conditional_includes>IncludeIf</a> 參數設定，<br>該設定可以針對不同的資料夾目錄去 include 不同的 gitconfig，<br>主要在 global gitconfig 做設定即可，感覺上蠻符合前面問題的解決方案，<br>設定方式如下：</p><p><strong>global gitconfig</strong></p><pre><code>[includeIf &quot;gitdir:~/Documents/Code/Personal/&quot;]
    path = ~/.gitrc/personal.gitconfig
</code></pre><p><strong>personal.gitconfig</strong></p><pre><code>[user]
    name = &quot;Neo Hsu&quot;
    email = &quot;NeoHsuDroid@gmail.com&quot;
    signingkey = &quot;xxxxxxxxxxxxxxx&quot;
</code></pre><p>上面設定會將在 <code>~/Documents/Code/Personal/</code> 目錄下有 .git 做版本控制的資料夾給予 <code>personal.gitconfig</code> 的設定</p><h3 id=reference>Reference</h3><blockquote><p><a href=https://git-scm.com/docs/git-config#_conditional_includes>git-config</a></p></blockquote></div></main></body></html>